<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Fun√ß√£o Simples</title>
</head>
<body>
    <h1>Teste da Fun√ß√£o generateDashboardMeditation</h1>
    
    <div class="chatgpt-style-input">
        <div class="input-container">
            <input type="text" class="chatgpt-input" placeholder="Digite o assunto cat√≥lico que deseja meditar hoje" id="dashboard-meditation-topic">
            <button class="chatgpt-send-btn" onclick="generateDashboardMeditation()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
    </div>
    
    <div id="result"></div>
    
    <script>
        // Fun√ß√£o para gerar medita√ß√£o
        function generateDashboardMeditation() {
            console.log('üöÄ Fun√ß√£o generateDashboardMeditation chamada');
            
            const topicInput = document.getElementById('dashboard-meditation-topic');
            if (!topicInput) {
                console.error('‚ùå Campo dashboard-meditation-topic n√£o encontrado');
                alert('Erro: Campo de t√≥pico n√£o encontrado');
                return;
            }
            
            const topic = topicInput.value.trim();
            console.log('üìù T√≥pico digitado:', topic);
            
            if (!topic) {
                alert('Por favor, digite um assunto para a medita√ß√£o');
                return;
            }
            
            alert('Gerando sua medita√ß√£o personalizada...');
            
            // Criar medita√ß√£o simples
            const meditation = {
                id: Date.now() + Math.random().toString(36).substr(2, 9),
                title: `Medita√ß√£o sobre ${topic}`,
                topic: topic,
                content: `Esta √© uma medita√ß√£o personalizada sobre "${topic}". Aqui voc√™ encontrar√° reflex√µes profundas e orienta√ß√µes espirituais para aprofundar sua f√© e conex√£o com Deus atrav√©s deste tema.`,
                duration: '15 min',
                createdAt: new Date().toISOString(),
                userId: 'test-user',
                userName: 'Usu√°rio Teste'
            };
            
            // Salvar medita√ß√£o
            const existingMeditations = JSON.parse(localStorage.getItem('personalized_meditations') || '[]');
            existingMeditations.push(meditation);
            localStorage.setItem('personalized_meditations', JSON.stringify(existingMeditations));
            
            // Limpar campo
            document.getElementById('dashboard-meditation-topic').value = '';
            
            // Mostrar resultado
            document.getElementById('result').innerHTML = `
                <h3>Medita√ß√£o Criada:</h3>
                <p><strong>T√≠tulo:</strong> ${meditation.title}</p>
                <p><strong>T√≥pico:</strong> ${meditation.topic}</p>
                <p><strong>Dura√ß√£o:</strong> ${meditation.duration}</p>
                <p><strong>ID:</strong> ${meditation.id}</p>
            `;
            
            alert('Medita√ß√£o criada com sucesso!');
            console.log('‚úÖ Medita√ß√£o criada:', meditation);
        }
        
        console.log('‚úÖ Script carregado, fun√ß√£o dispon√≠vel:', typeof generateDashboardMeditation);
    </script>
</body>
</html> 