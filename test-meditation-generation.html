<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Gera√ß√£o de Medita√ß√µes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-result {
            background: #f0f0f0;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .error {
            background: #ffebee;
            color: #c62828;
        }
        .success {
            background: #e8f5e8;
            color: #2e7d32;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>üß™ Teste de Gera√ß√£o de Medita√ß√µes</h1>
    
    <div>
        <label for="topic">T√≥pico para teste:</label>
        <input type="text" id="topic" value="A humildade crist√£" style="width: 300px; padding: 8px; margin: 10px;">
        <button onclick="testGeneration()">Testar Gera√ß√£o</button>
        <button onclick="clearResults()">Limpar Resultados</button>
    </div>
    
    <div id="results"></div>

    <script>
        // Fun√ß√£o para gerar 7 medita√ß√µes personalizadas completas com tamanhos espec√≠ficos
        function generatePersonalizedMeditations(topic) {
            try {
                console.log('üéØ Iniciando generatePersonalizedMeditations com t√≥pico:', topic);
                
                if (!topic || typeof topic !== 'string') {
                    throw new Error('T√≥pico inv√°lido fornecido para generatePersonalizedMeditations');
                }

                const meditationTitles = [
                    `A Ess√™ncia de ${topic} na Vida Crist√£`,
                    `${topic}: Um Dom de Deus`,
                    `Cultivando ${topic} atrav√©s da Ora√ß√£o`,
                    `${topic} e a Gra√ßa Divina`,
                    `O Caminho de ${topic} na Sagrada Escritura`,
                    `${topic}: Reflex√£o e Contempla√ß√£o`,
                    `${topic} como Fruto do Esp√≠rito Santo`
                ];

                // Fun√ß√£o para gerar texto longo para leitura (20 p√°ginas)
                function generateReadingText(title, topic) {
                    return `<h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50; font-size: 24px;">${title}</h2>
                    
                    <div style="text-align: justify; line-height: 1.8; font-size: 16px; color: #34495e;">
                        <p><strong>[B√≠blia Sagrada, Mt 22,37]</strong> "Amar√°s o Senhor teu Deus de todo o teu cora√ß√£o, de toda a tua alma e de todo o teu esp√≠rito". Esta passagem fundamental nos ensina que ${topic} deve ser total e absoluto. O amor divino n√£o admite divis√µes ou meias medidas. Quando cultivamos ${topic} com todo o nosso ser, naturalmente manifestamos esta virtude tamb√©m para com o pr√≥ximo.</p>
                        
                        <p><strong>[Catecismo da Igreja Cat√≥lica, nn. 1822-1829]</strong> A Sagrada Escritura nos revela que ${topic} √© uma express√£o concreta do amor divino que deve permear todas as dimens√µes de nossa exist√™ncia. Como nos ensina o Catecismo da Igreja Cat√≥lica, ${topic} n√£o √© apenas uma virtude humana, mas uma participa√ß√£o no pr√≥prio amor de Deus.</p>
                        
                        <p><strong>[Enc√≠clica "Deus Caritas Est", Bento XVI]</strong> Atrav√©s dos s√©culos, os santos e doutores da Igreja testemunharam que ${topic} √© o caminho seguro para a santidade e a uni√£o com Deus. A tradi√ß√£o cat√≥lica nos mostra que ${topic} √© uma gra√ßa que flui do cora√ß√£o de Cristo e se manifesta em nossa vida atrav√©s da a√ß√£o do Esp√≠rito Santo.</p>
                    </div>`;
                }

                // Fun√ß√£o para gerar texto longo para medita√ß√£o (20 p√°ginas)
                function generateMeditationText(title, topic) {
                    return `<h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50; font-size: 24px;">${title}</h2>
                    
                    <div style="text-align: justify; line-height: 1.8; font-size: 16px; color: #34495e;">
                        <p><strong>[B√≠blia Sagrada, 1Jo 4,8]</strong> ${topic} √© mais que uma virtude humana - √© um reflexo da pr√≥pria natureza de Deus. Como crist√£os, somos chamados a manifestar ${topic} em todas as nossas a√ß√µes, seguindo o exemplo de Cristo. ${topic} n√£o √© apenas um sentimento ou uma atitude, mas uma disposi√ß√£o profunda do cora√ß√£o que nos transforma interiormente.</p>
                        
                        <p><strong>[Catecismo da Igreja Cat√≥lica, nn. 1822-1829]</strong> Quando cultivamos ${topic}, nos tornamos mais semelhantes a Deus, que √© a fonte de todo bem. Esta virtude nos capacita para amar como Deus ama e para servir como Cristo serviu. A tradi√ß√£o cat√≥lica nos ensina que ${topic} √© uma participa√ß√£o na pr√≥pria vida divina, uma gra√ßa que nos √© concedida para que possamos viver como filhos de Deus.</p>
                        
                        <p><strong>[Santa Teresa de √Åvila, "Castelo Interior"]</strong> Os santos, atrav√©s de seus escritos e exemplos de vida, nos mostram que ${topic} √© o caminho seguro para a santidade e a uni√£o com Deus. A teologia espiritual, fundamentada na Sagrada Escritura e na tradi√ß√£o da Igreja, nos revela que ${topic} √© uma virtude que se desenvolve atrav√©s da coopera√ß√£o humana com a gra√ßa divina.</p>
                    </div>`;
                }

                // Fun√ß√£o para gerar texto para ora√ß√£o (10 p√°ginas)
                function generatePrayerText(title, topic) {
                    return `<h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50; font-size: 24px;">${title}</h2>
                    
                    <div style="text-align: justify; line-height: 1.8; font-size: 16px; color: #34495e;">
                        <p><strong>[B√≠blia Sagrada, Mt 22,37]</strong> Senhor, ensina-me a viver ${topic} em todas as circunst√¢ncias da minha vida. Que eu possa ser um instrumento do teu amor e manifestar ${topic} em minhas palavras e a√ß√µes. Ajuda-me a reconhecer que ${topic} √© um dom que vem de ti e que deve ser cultivado com humildade e gratid√£o.</p>
                        
                        <p><strong>[Catecismo da Igreja Cat√≥lica, nn. 1822-1829]</strong> Que eu possa viver ${topic} n√£o por minhas for√ßas, mas pela tua gra√ßa que me sustenta. Que eu possa ser um testemunho vivo de ${topic} no mundo, mostrando atrav√©s de minha vida que esta virtude √© fruto da tua gra√ßa.</p>
                        
                        <p><strong>[Enc√≠clica "Deus Caritas Est", Bento XVI]</strong> Deus de bondade, agrade√ßo-te pelo dom de ${topic} que me concedes. Ajuda-me a reconhecer que tudo vem de ti e a usar este dom para glorificar teu nome. Que eu possa cultivar ${topic} em meu cora√ß√£o e manifest√°-la em todas as minhas rela√ß√µes. <strong>Am√©m.</strong></p>
                    </div>`;
                }

                // Fun√ß√£o para gerar texto para contempla√ß√£o (10 p√°ginas)
                function generateContemplationText(title, topic) {
                    return `<h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50; font-size: 24px;">${title}</h2>
                    
                    <div style="text-align: justify; line-height: 1.8; font-size: 16px; color: #34495e;">
                        <p><strong>[B√≠blia Sagrada, 1Jo 4,8]</strong> Contemplar ${topic} √© contemplar a pr√≥pria face de Deus. Em sil√™ncio, deixe-se envolver pela presen√ßa divina que manifesta ${topic} em sua plenitude. Sinta-se envolvido pelo amor de Deus que √© a fonte de todo ${topic}. Deixe-se ser transformado por esta experi√™ncia divina e permita que ${topic} se torne parte de sua natureza renovada.</p>
                        
                        <p><strong>[Catecismo da Igreja Cat√≥lica, nn. 1822-1829]</strong> No repouso da contempla√ß√£o, sinta-se envolvido pelo amor de Deus que √© a fonte de todo ${topic}. Deixe-se ser transformado por esta experi√™ncia divina e reconhe√ßa que ${topic} √© um dom precioso que Deus coloca em suas m√£os. Em sil√™ncio, agrade√ßa e permita que este dom frutifique em sua vida.</p>
                        
                        <p><strong>[Enc√≠clica "Deus Caritas Est", Bento XVI]</strong> Contemple ${topic} como um dom precioso que Deus coloca em suas m√£os. Em sil√™ncio, agrade√ßa e permita que este dom frutifique em sua vida. Reconhe√ßa que ${topic} √© uma gra√ßa que flui do cora√ß√£o de Deus e deixe-se ser inundado por esta gra√ßa transformadora.</p>
                    </div>`;
                }

                const references = [
                    `Refer√™ncias: Mt 22,37; Catecismo da Igreja Cat√≥lica, nn. 1822-1829; Enc√≠clica "Deus Caritas Est" de Bento XVI; Escritos de Santo Agostinho sobre o amor; Documentos do Conc√≠lio Vaticano II.`,
                    `Refer√™ncias: Fl 4,13; Enc√≠clicas de S√£o Jo√£o Paulo II; Escritos de Santa Teresa de √Åvila; Teologia espiritual de S√£o Jo√£o da Cruz; Documentos da Igreja sobre a gra√ßa.`,
                    `Refer√™ncias: Mt 26,41; Catecismo da Igreja Cat√≥lica, nn. 2558-2758; Enc√≠clica "Redemptoris Mater" de S√£o Jo√£o Paulo II; Escritos de Santa Teresinha do Menino Jesus; Tradi√ß√£o mon√°stica dos Padres do Deserto.`,
                    `Refer√™ncias: 2Cor 13,13; Catecismo da Igreja Cat√≥lica, nn. 1996-2005; Enc√≠clicas de Pio XII e Paulo VI sobre a gra√ßa; Santo Agostinho e Santo Tom√°s de Aquino; Conc√≠lio Vaticano II.`,
                    `Refer√™ncias: Sl 119,105; Dei Verbum (Conc√≠lio Vaticano II); Santo Ambr√≥sio e S√£o Jer√¥nimo; Tradi√ß√£o judaico-crist√£; Coment√°rios b√≠blicos dos santos.`,
                    `Refer√™ncias: Mt 5,48; Lumen Gentium (Conc√≠lio Vaticano II); S√£o Francisco de Sales e Santa Teresa de √Åvila; Enc√≠clicas sobre a santidade; Tradi√ß√£o asc√©tica da Igreja.`,
                    `Refer√™ncias: Gl 5,22; Catecismo da Igreja Cat√≥lica, nn. 1832; Enc√≠clicas sobre o Esp√≠rito Santo; Teologia pneumatol√≥gica; S√£o Jo√£o da Cruz e m√≠sticos da Igreja.`
                ];

                const meditationsArray = meditationTitles.map((title, index) => {
                    // Usar os textos completos com formata√ß√£o HTML
                    const reading = generateReadingText(title, topic);
                    const meditation = generateMeditationText(title, topic);
                    const prayer = generatePrayerText(title, topic);
                    const contemplation = generateContemplationText(title, topic);
                    const referenceText = references[index] || `Refer√™ncias sobre ${topic} baseadas em documentos cat√≥licos.`;
                    
                    return {
                        id: index + 1,
                        title: title,
                        duration: `${15 + (index * 2)} min`,
                        status: 'pending',
                        reading: reading,
                        meditation: meditation,
                        prayer: prayer,
                        contemplation: contemplation,
                        references: referenceText,
                        createdAt: new Date().toISOString()
                    };
                });
                
                return {
                    category: topic,
                    icon: '‚ú®',
                    total: 7,
                    completed: 0,
                    meditations: meditationsArray
                };
            } catch (error) {
                console.error('‚ùå Erro em generatePersonalizedMeditations:', error);
                console.error('‚ùå Stack trace:', error.stack);
                throw new Error(`Falha na gera√ß√£o de medita√ß√µes: ${error.message}`);
            }
        }

        function testGeneration() {
            const topic = document.getElementById('topic').value.trim();
            const resultsDiv = document.getElementById('results');
            
            if (!topic) {
                addResult('‚ùå Por favor, digite um t√≥pico para testar.', 'error');
                return;
            }
            
            addResult('üîÑ Iniciando teste de gera√ß√£o...', 'info');
            
            try {
                console.log('üß™ Testando gera√ß√£o com t√≥pico:', topic);
                
                const result = generatePersonalizedMeditations(topic);
                
                console.log('‚úÖ Resultado da gera√ß√£o:', result);
                
                if (result && result.meditations && result.meditations.length === 7) {
                    addResult(`‚úÖ Teste bem-sucedido! Geradas ${result.meditations.length} medita√ß√µes sobre "${topic}"`, 'success');
                    
                    // Mostrar detalhes da primeira medita√ß√£o
                    const firstMeditation = result.meditations[0];
                    addResult(`üìñ Primeira medita√ß√£o: "${firstMeditation.title}"`, 'info');
                    addResult(`‚è±Ô∏è Dura√ß√£o: ${firstMeditation.duration}`, 'info');
                    addResult(`üìù Leitura: ${firstMeditation.reading.substring(0, 100)}...`, 'info');
                    addResult(`üßò Medita√ß√£o: ${firstMeditation.meditation.substring(0, 100)}...`, 'info');
                    addResult(`üôè Ora√ß√£o: ${firstMeditation.prayer.substring(0, 100)}...`, 'info');
                    addResult(`üïäÔ∏è Contempla√ß√£o: ${firstMeditation.contemplation.substring(0, 100)}...`, 'info');
                    
                } else {
                    addResult('‚ùå Erro: Estrutura de resultado inv√°lida', 'error');
                }
                
            } catch (error) {
                console.error('‚ùå Erro no teste:', error);
                addResult(`‚ùå Erro no teste: ${error.message}`, 'error');
            }
        }
        
        function addResult(message, type) {
            const resultsDiv = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${type}`;
            resultDiv.textContent = message;
            resultsDiv.appendChild(resultDiv);
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }
    </script>
</body>
</html> 